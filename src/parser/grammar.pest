number = @{ ASCII_DIGIT+ }
ident = @{ ASCII_ALPHA ~ ASCII_ALPHANUMERIC* }

expression = { term ~ (operation ~ term)* }
    term = _{ paren_expr | (ident | number) ~ unit* }
    paren_expr = _{"(" ~ expression ~ ")"}

unit = @{ ASCII_ALPHA+ }

operation = @{ add | subtract | multiply | divide | power }
    add      = { "+" }
    subtract = { "-" }
    multiply = { "*" }
    divide   = { "/" }
    power    = { "^" }

statement = { print_expr | var_dec | expression }
    var_dec = { ident ~ "=" ~ expression }
    print_expr = { expression ~ "=" ~ "?" }

program = _{ "\n"* ~ statement ~ ("\n" ~ program)* }

WHITESPACE = _{ " " | "\t" }
